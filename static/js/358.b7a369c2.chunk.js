"use strict";(self.webpackChunkbookshop=self.webpackChunkbookshop||[]).push([[358],{5358:function(t,e,r){r.r(e),r.d(e,{default:function(){return nt}});var n=r(3433),s=r(8683),i=r(1087),a="Card_card__3ttYO",c="Card_author__kbVZZ",o="Card_price__1PdEY",l="Card_link__O-qoX",u="Card_rate__953tJ",d="Card_addToCartBtn__UnGot",h="Card_addedToCartBtn__SyLSe",f="Card_plusInButton__BO+qj",_="Card_text__wECR7",x="Card_imageContainer__mt6BE",m="Card_heart__2jINU",j="Card_heartInside__v0apV",g="Card_hearts__XYZXS",v="Card_heartInsideClicked__Up-QC",C=r(7692),k=r(8820),p=r(9434),y=r(7500),N=r(3896),B=r(300),S=r(184),b=function(t){var e=t.title,r=t.index,b=t.imageUrl,w=t.author,P=t.rate,I=t.price,Z=t.likedCard,A=t.setLikedCard,L=(0,p.v9)(y.p2),E=L.books,U=L.allBooks,M=(0,p.v9)((function(t){return t.cart})),D=(0,p.v9)((function(t){return t.cart})).cartItems,z=(0,p.v9)(N.AD).searchInput,q="/react-bookshop/"+r,F=(0,p.I0)(),O=D.some((function(t){return t.title==e})),R=Z.some((function(t){return t.title==e})),T=function(t){return z.length>0&&t.toLowerCase().split("").filter((function(t){return t>="A"&&t<="z"})).join("").includes(z.toLowerCase().split("").filter((function(t){return t>="A"&&t<="z"})).join(""))?"var(--Light)":""};return(0,S.jsx)("div",{className:a,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)(i.rU,{to:q,children:(0,S.jsx)("img",{src:b,alt:"book"})}),(0,S.jsxs)("div",{className:g,onClick:function(){var t=(0,n.Z)(Z);Z.some((function(t){return t.title==e}))?t=t.filter((function(t){return t.title!=e})):U.forEach((function(r){return r.title==e&&t.unshift(r)})),A((0,n.Z)(t)),localStorage.setItem("liked",JSON.stringify((0,n.Z)(t)))},children:[(0,S.jsx)(k.M_L,{className:m}),(0,S.jsx)(k.M_L,{className:R?v:j}),"  "]})]}),(0,S.jsxs)("span",{className:_,children:[(0,S.jsx)(i.rU,{className:l,to:q,children:(0,S.jsxs)("h3",{style:{backgroundColor:"".concat(T(e))},children:[" ",e.length>30?e.slice(0,26)+" ...":e," "]})}),(0,S.jsx)("h5",{className:c,style:{backgroundColor:"".concat(T(w))},children:w}),(0,S.jsx)("ul",{className:u,children:[1,2,3,4,5].map((function(t){return(0,S.jsxs)("li",{onClick:function(){return function(t){var e=(0,n.Z)(U),i=(0,s.Z)({},e[r]);i.rate=t,e.splice(r,1,i),F((0,y.Ph)((0,n.Z)(e)))}(t)},children:[" ",P>=t?"\u2605":"\u2606"," "]},"star"+Math.random())}))})]}),(0,S.jsxs)("p",{className:o,children:[I,"\u20ac"]}),(0,S.jsxs)("button",{className:O?h:d,onClick:function(){return function(t){var e=E.filter((function(e){return e.title==t}))[0];M.cartItems.some((function(e){return e.title===t}))?F((0,B.w0)((0,n.Z)(M.cartItems.filter((function(e){return e.title!==t}))))):F((0,B.w0)([e].concat((0,n.Z)(M.cartItems))))}(e)},children:[" ",O?"":(0,S.jsx)(C.RWX,{className:f}),"  ",O?"Added To Cart":"Add to Cart"]})]})})},w=r(2791),P=r(9439),I="SortingPart_categoriesSearch__Q+wAn",Z="SortingPart_categoriesPart__jzvhT",A="SortingPart_desc__e63dj",L="SortingPart_buttons__mrp4F",E="SortingPart_categoriesButton__MYEyz",U="SortingPart_sortButton__YIDmx",M="SortingPart_categories__KIADQ",D="SortingPart_sort__zn+Jx",z="SortingPart_searchInput__VF1qh",q="SortingPart_clearSearch__mjAtD",F="SortingPart_search__gPbzf",O=r(5707),R=function(){var t=(0,w.useRef)(null),e=(0,w.useState)(""),r=(0,P.Z)(e,2),n=r[0],s=r[1],i=(0,O.N)(n,250),a=(0,p.v9)(N.AD),c=(0,p.I0)();return(0,w.useEffect)((function(){c((0,N.iV)(i))}),[i]),(0,S.jsxs)("div",{className:I,children:[(0,S.jsx)("div",{className:Z,children:(0,S.jsxs)("div",{className:L,children:[(0,S.jsxs)("div",{className:E,onClick:function(){return c((0,N.L0)())},children:["Categories: ",a.categoryArray[a.category]]}),(0,S.jsxs)("div",{style:{display:"flex"},children:[(0,S.jsxs)("div",{className:U,onClick:function(){return c((0,N.Ge)())},children:["Sort by: ",a.sortArray[a.sort]]}),0!=a.sort&&(0,S.jsxs)("div",{className:A,onClick:function(){return c((0,N.Iq)())},children:[(0,S.jsx)("div",{style:{transition:".3s",rotate:"".concat(a.desc?"180deg":"")},children:"\u25b2"}),(0,S.jsx)("span",{children:a.desc?"DESC":"ASC"})]})]})]})}),a.categoryClicked&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("ul",{className:M,children:a.categoryArray.map((function(t,e){return(0,S.jsx)("li",{onClick:function(){return function(t){c((0,N.PR)(t)),c((0,N.L0)())}(e)},children:t},"category"+Math.random())}))}),(0,S.jsx)("div",{className:"overBar",onClick:function(){return c((0,N.L0)())}})]}),a.sortClicked&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("ul",{className:D,children:a.sortArray.map((function(t,e){return(0,S.jsx)("li",{onClick:function(){return function(t){c((0,N.HD)(t)),c((0,N.Ge)())}(e)},children:t},"sort"+Math.random())}))}),(0,S.jsx)("div",{className:"overBar",onClick:function(){return c((0,N.Ge)())}})]}),(0,S.jsxs)("div",{className:F,onClick:function(){var e;return null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.focus()},children:[(0,S.jsx)(C.Goc,{}),(0,S.jsx)("input",{value:n,ref:t,onChange:function(t){return s(t.target.value)},className:z}),a.searchInput.length>0&&(0,S.jsx)(C.czh,{onClick:function(){s("")},className:q})]})]})},T=r(4165),X=r(5861),G="Bestsellers_image__lRzjw",Y="Bestsellers_container__oWJpu",J="Bestsellers_slider__LUSqT",V="Bestsellers_link__LEhXi",W="Bestsellers_all__KEqoH",K="Bestsellers_sliderButtons__Cf0iw",Q="Bestsellers_leftButton__MSCyv",H="Bestsellers_rightButton__-iC5i",$=function(t){var e=t.value,r=(0,p.v9)(y.p2),s=r.allBooks,a=r.isLoaded,c=(0,w.useState)(),o=(0,P.Z)(c,2),l=o[0],u=o[1],d=(0,w.useState)(0),h=(0,P.Z)(d,2),f=h[0],_=h[1],x=(0,w.useRef)(null),m=1,j=function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},g=function(t){0==(m=0)&&null!=x.current&&(0==t&&(f>8.5*-e+x.current.clientWidth/16?_(f-8.5):_(0)),1==t&&f<=-8.5&&_(f+8.5))},v=function(){var t=(0,X.Z)((0,T.Z)().mark((function t(){return(0,T.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(1800).then((function(){1==m&&null!=x.current&&(f>8.5*-e+x.current.clientWidth/16?_(f-8.5):_(0))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,w.useEffect)((function(){if(s){var t=(0,n.Z)(s);t.sort((function(t,e){return e.sales-t.sales})).splice(e);var r=[];t.forEach((function(t,e){return r.push(t.imageUrl)})),u([].concat(r))}}),[a]),(0,w.useEffect)((function(){v()}),[f]),(0,S.jsxs)("div",{className:W,children:[(0,S.jsx)("h2",{style:{color:"var(--Dark)"},children:"Bestsellers"}),(0,S.jsxs)("div",{className:K,children:[(0,S.jsx)("button",{onClick:function(){return g(1)},className:Q,children:"\u25c4"}),(0,S.jsx)("div",{className:J,ref:x,children:(0,S.jsx)("div",{className:Y,style:{transform:"translateX(".concat(f,"rem)")},children:l?l.map((function(t){return(0,S.jsx)("div",{children:(0,S.jsx)(i.rU,{to:"/react-bookshop/".concat(null===s||void 0===s?void 0:s.indexOf(null===s||void 0===s?void 0:s.filter((function(e){return e.imageUrl==t}))[0])),className:V,children:(0,S.jsx)("img",{className:G,src:t})})},"best"+Math.random())})):[0,0,0,0,0,0].map((function(t){return(0,S.jsx)("div",{className:G},"emptyBest"+Math.random())}))})}),(0,S.jsx)("button",{onClick:function(){return g(0)},className:H,children:"\u25ba"})]})]})},tt=r(1578),et=r(8175),rt=function(){return(0,S.jsxs)(et.ZP,{speed:2,width:274,height:216.4,viewBox:"0 0 290 232.4",backgroundColor:"var(--Light)",foregroundColor:"var(--Pink)",style:{gridArea:"1/1/3/1"},children:[(0,S.jsx)("rect",{x:"24",y:"8",rx:"6",ry:"6",width:"82",height:"130"}),(0,S.jsx)("rect",{x:"30",y:"164",rx:"0",ry:"0",width:"84",height:"24"}),(0,S.jsx)("rect",{x:"120",y:"19",rx:"0",ry:"0",width:"160",height:"38"}),(0,S.jsx)("rect",{x:"151",y:"72",rx:"0",ry:"0",width:"104",height:"13"}),(0,S.jsx)("rect",{x:"156",y:"106",rx:"0",ry:"0",width:"91",height:"22"}),(0,S.jsx)("rect",{x:"141",y:"163",rx:"14",ry:"14",width:"120",height:"33"})]})},nt=function(t){var e=t.likedCard,r=t.setLikedCard,s=(0,p.v9)(y.p2),i=s.booksInPage,a=s.books,c=s.allBooks,o=s.isLoaded,l=s.pageClick,u=s.page,d=(0,p.v9)(N.AD),h=(0,p.I0)();return(0,w.useEffect)((function(){h((0,y.mC)()),h((0,y.uE)())}),[a,o,l]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{}),(0,S.jsxs)("h1",{style:{color:"var(--Dark)"},children:[" ",d.categoryArray[d.category]," "]}),(0,S.jsx)("div",{className:"books",children:o?i.map((function(t){return(0,S.jsx)(b,{index:c.indexOf(t),title:t.title,imageUrl:t.imageUrl,author:t.author,price:t.price,rate:t.rate,likedCard:e,setLikedCard:r},t.title)})):(0,n.Z)(new Array(6)).fill(0).map((function(t){return(0,S.jsx)("div",{children:(0,S.jsx)(rt,{})},"skeleton"+Math.random())}))}),u.length>1&&(0,S.jsxs)("div",{className:"pagination",children:[u.length>2&&(0,S.jsx)(tt.K$P,{className:"prevLastBtn",onClick:function(){return h((0,y.ly)(1))}}),u.map((function(t,e){return(0,S.jsxs)("button",{className:"pageBtn "+"".concat(e+1==l&&"pageBtnClicked"),onClick:function(){return h((0,y.ly)(e+1))},children:[" ",e+1," "]},"button"+Math.random())})),u.length>2&&(0,S.jsx)(tt.eIA,{className:"prevLastBtn",onClick:function(){return h((0,y.ly)(u.length))}})]}),(0,S.jsx)($,{value:10})]})}}}]);
//# sourceMappingURL=358.b7a369c2.chunk.js.map